<%- include("templates/header") %>

<head>
	<link rel="stylesheet" href="/styles/secret_report.css" />
</head>
<div class="container" py-5 px-3>
	<h1 class="display-4 text-center my-5 text-info">Welcome agent! You are in secret mode!</h1>

	<form class = "row g-3" action="/reporting" method='post' enctype="multipart/form-data">
		<div class="mb-3">
			<label for="type" class="form-label">Type:</label>
			<div class="input-group">
				<select name="type" id="type" class="form-select" aria-label="type">
					<option value="Theft">Theft</option>
					<option value="Rubbery">Rubbery</option>
					<option value="Home Invasion">Home Invasion</option>
					<option value="Car Accident">Car Accident</option>
					<option value="Other">Other</option>
				</select>
				<input type="text" name="other_type" id="other_type" class="form-control d-none" placeholder="Enter type">
			</div>
		</div>
		<div class="mb-3">
			<label for="location" class="form-label">Location:</label>
			<div class="row">
				<div class="col-md-4">
					<input type="text" name="street" id="street" class="form-control" placeholder="Street" required />
				</div>
				<div class="col-md-4">
					<input type="text" name="city" id="city" class="form-control" placeholder="City" required />
				</div>
				<div class="col-md-4">
					<input type="text" name="postCode" id="postCode" class="form-control" placeholder="Post Code" required />
				</div>
			</div>
		</div>

		<div class="mb-3">
			<label for="description" class="form-label">Description:</label>
			<textarea name="description" id="description" class="form-control" required></textarea>
		</div>
		<div class="mb-3">
			<label for="picture" class="form-label">Picture:</label>
			<input type="file" name="picture" id="picture" class="form-control" accept="image/*" />
		</div>
		<button type="submit" class="btn btn-primary">Report</button>
	</form>
</div>

<script>
  // 스파이 이미지와 메시지를 보여주는 함수
	function showSecretMessage() {
  // 이미지 요소 생성
  var spyImage = document.createElement("img");
  spyImage.src = "/images/spy.jpg";
  spyImage.className = "spy-image";

  // 메시지 요소 생성
  var message = document.createElement("div");
  message.textContent = "Confidential Report";
  message.className = "secret-message";

  // 컨테이너 요소에 이미지와 메시지 추가
  var container = document.querySelector(".container");
  container.appendChild(spyImage);
  container.appendChild(message);

  // 이미지를 화면 전체에 맞추기
  spyImage.style.position = "fixed";
  spyImage.style.top = "0";
  spyImage.style.left = "0";
  spyImage.style.width = "100%";

  // 일정 시간 후에 이미지와 메시지 제거
  setTimeout(function () {
    container.removeChild(spyImage);
    container.removeChild(message);
  }, 3000); // 3초 후에 제거 (원하는 시간으로 변경 가능)
}


  // 페이지 로드 시 스파이 이미지와 메시지 보여주기
  window.onload = showSecretMessage;
</script>

<%- include("templates/footer") %>