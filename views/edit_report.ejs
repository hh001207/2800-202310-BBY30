<%- include("templates/header") %>

<head>
  <link rel="stylesheet" href="/styles/report.css">
</head>

<div class="container py-5 px-3">
  <h1 class="display-4 text-center my-5 text-info">Edit Report</h1>

  <form class="row g-3" action="/update_report" method="post">
    <div class="mb-3">
      <label for="title" class="form-label">Title:</label>
      <div class="input-group">
        <select name="title" id="title" class="form-select" aria-label="Title">
          <option value="Theft" <% if (report.title === 'Theft') { %>selected<% } %>>Theft</option>
          <option value="Rubbery" <% if (report.title === 'Rubbery') { %>selected<% } %>>Rubbery</option>
          <option value="Home Invasion" <% if (report.title === 'Home Invasion') { %>selected<% } %>>Home Invasion</option>
          <option value="Car Accident" <% if (report.title === 'Car Accident') { %>selected<% } %>>Car Accident</option>
          <option value="Other" <% if (report.title === 'Other') { %>selected<% } %>>Other</option>
        </select>
        <input type="text" name="other_title" id="other_title" class="form-control d-none" placeholder="Enter Title" value="<%= report.title %>" <% if (report.title === 'Other') { %>style="display: block;"<% } %> />
      </div>
    </div>

    <div class="mb-3">
      <label for="location" class="form-label">Location:</label>
      <div class="row">
        <div class="col-md-4">
          <input type="text" name="street" id="street" class="form-control" placeholder="Street" value="<%= report.location.street || '' %>" required />
        </div>
        <div class="col-md-4">
          <input type="text" name="city" id="city" class="form-control" placeholder="City" value="<%= report.location.city || '' %>" required />
        </div>
        <div class="col-md-4">
          <input type="text" name="postCode" id="postCode" class="form-control" placeholder="Post Code" value="<%= report.location.postCode || '' %>" required />
        </div>
      </div>
    </div>

    <div class="mb-3">
      <label for="description" class="form-label">Description:</label>
      <textarea name="description" id="description" class="form-control" required><%= report.description %></textarea>
    </div>

    <div class="mb-3">
      <label for="picture" class="form-label">Picture:</label>
      <input type="file" name="picture" id="picture" class="form-control" accept="image/*" />
    </div>

    <input type="hidden" name="reportId" value="<%= report._id %>">

    <button type="submit" class="btn btn-primary">Update Report</button>
  </form>
</div>

<%- include("templates/footer") %>
